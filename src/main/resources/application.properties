# ===========================================
# DATABASE CONFIGURATION
# ===========================================
spring.datasource.url=jdbc:mysql://localhost:3306/mediconnect?createDatabaseIfNotExist=true&useSSL=false&serverTimezone=UTC&allowPublicKeyRetrieval=true
spring.datasource.username=mediconnect_user
spring.datasource.password=Bahubal12@
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver

# ===========================================
# JPA/HIBERNATE CONFIGURATION
# ===========================================
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect
spring.jpa.properties.hibernate.format_sql=true

# ===========================================
# SERVER CONFIGURATION
# ===========================================
server.servlet.context-path=/mediconnect
server.port=${PORT:8080}
spring.main.allow-bean-definition-overriding=true

# ===========================================
# SECURITY CONFIGURATION
# ===========================================
jwt.secret=FDUx06/OL9U1aZW29nXeUeZ/G8D2aHhDVYOahOO8JSXexfhYnx0c2xK2oe2MAvS8MyBhBDyTApLQ2hW/oHU4tg==
jwt.expiration=86400000

# ===========================================
# EMAIL CONFIGURATION
# ===========================================
spring.mail.host=smtp.gmail.com
spring.mail.port=587
spring.mail.username=escapeott.team@gmail.com
spring.mail.password=zfsh zldd ojqo ptes
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true
spring.mail.from-name=MediConnect Health

# ===========================================
# PAYMENT GATEWAY CONFIGURATION
# ===========================================
stripe.api.key=sk_test_YOUR_SECRET_KEY
stripe.webhook.secret=whsec_YOUR_WEBHOOK_SECRET
razorpay.key.id=rzp_test_oCj7e2CACazlHk
razorpay.key.secret=G23DctrKfY3KzGokzBJ7F7v5
razorpay.currency=INR
razorpay.webhook.secret=whsec_test_placeholder

# ===========================================
# FILE UPLOAD CONFIGURATION
# ===========================================
file.upload-dir=E:/Video Consultation With Doctor/MediConnect/uploads
app.upload.medical-records-path=E:/Video Consultation With Doctor/MediConnect/uploads/medical-records
spring.servlet.multipart.max-file-size=10MB
spring.servlet.multipart.max-request-size=10MB

# ===========================================
# BLOCKCHAIN CONFIGURATION
# ===========================================
blockchain.node-url=http://localhost:8545
blockchain.contract-address=0x1234567890abcdef1234567890abcdef12345678
blockchain.private-key=0x0123456789abcdef0123456789abcdef0123456789abcdef0123456789abcdef
blockchain.gas-price=20000000000
blockchain.gas-limit=4700000

# ===========================================
# PDF AND NOTIFICATION CONFIGURATION
# ===========================================
mediconnect.pdf.output-path=${file.upload-dir:./uploads}/receipts/
mediconnect.notifications.enabled=true
mediconnect.notifications.payment-confirmation=true
mediconnect.notifications.appointment-confirmation=true
mediconnect.company.name=MediConnect Health
mediconnect.company.address=Healthcare Excellence Center, Tech City, India
mediconnect.company.phone=+91-1800-MEDICONNECT
mediconnect.company.email=support@mediconnect.com
mediconnect.company.gstin=19MEDICONNECT1Z9

# ===========================================
# FRONTEND CONFIGURATION
# ===========================================
mediconnect.frontend.url=http://localhost:3000

# ===========================================
# MULTI-LANGUAGE SUPPORT CONFIGURATION
# ===========================================
mediconnect.languages.supported=en,hi,hinglish,bn,te,ta,mr,gu,kn,ml,or,pa,as
mediconnect.languages.default=en
mediconnect.translation.fallback-enabled=true

# ===========================================
# WEBSOCKET CONFIGURATION
# ===========================================
websocket.stomp.endpoint=/ws
websocket.allowed.origins=http://localhost:3000,http://localhost:5173

# ===========================================
# FIXED HUGGING FACE AI CONFIGURATION
# ===========================================

# Core Hugging Face Configuration
huggingface.api.key=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
huggingface.api.base-url=https://api-inference.huggingface.co

# WORKING MODELS: Using Text Generation instead of deprecated Conversational
huggingface.models.chat=mistralai/Mixtral-8x7B-Instruct-v0.1
huggingface.models.medical-coding=openai-community/gpt2
huggingface.models.health-prediction=openai-community/gpt2
huggingface.models.medication-interaction=openai-community/gpt2
huggingface.models.treatment-recommendation=openai-community/gpt2
huggingface.models.speech-to-text=openai/whisper-tiny
huggingface.models.ocr=microsoft/trocr-base-printed
huggingface.models.translation=helsinki-nlp/opus-mt-en-hi

# WORKING API ENDPOINTS: Using Text Generation pipeline
huggingface.endpoints.chat=https://api-inference.huggingface.co/models/mistralai/Mixtral-8x7B-Instruct-v0.1
huggingface.endpoints.medical-coding=https://api-inference.huggingface.co/models/HuggingFaceH4/zephyr-7b-beta
huggingface.endpoints.health-prediction=https://api-inference.huggingface.co/models/openai-community/gpt2
huggingface.endpoints.medication-interaction=https://api-inference.huggingface.co/models/openai-community/gpt2
huggingface.endpoints.treatment-recommendation=https://api-inference.huggingface.co/models/openai-community/gpt2
huggingface.endpoints.speech-to-text=https://api-inference.huggingface.co/models/openai/whisper-tiny
huggingface.endpoints.ocr=https://api-inference.huggingface.co/models/microsoft/trocr-base-printed
huggingface.endpoints.translation=https://api-inference.huggingface.co/models/helsinki-nlp/opus-mt-en-hi

# Optimized timeout settings
huggingface.timeout.connection=15000
huggingface.timeout.read=30000
huggingface.retry.attempts=2
huggingface.model.warmup-timeout=60000
huggingface.retry.on-loading=true

# GPT-2 model parameters (optimized for medical responses)
huggingface.chat.max-tokens=1024
huggingface.chat.temperature=0.7
huggingface.medical.max-tokens=100
huggingface.medical.temperature=0.5
huggingface.translation.max-tokens=100
huggingface.speech.return-timestamps=false

# Hugging Face Service Configuration
huggingface.service.name=MediConnect-AI
huggingface.service.version=1.0.0
huggingface.service.environment=development

# Enable fallback and caching
huggingface.models.fallback.enabled=true
huggingface.models.cache.enabled=true
huggingface.models.preload.enabled=false
huggingface.api.rate-limit.enabled=true
huggingface.api.rate-limit.requests-per-minute=30

# Model Quality Settings
huggingface.quality.medical.enabled=true
huggingface.quality.safety-filters.enabled=true
huggingface.quality.content-moderation.enabled=true

# Monitoring and Logging
huggingface.monitoring.enabled=true
huggingface.monitoring.metrics.enabled=true
huggingface.monitoring.health-check.interval=300000
huggingface.logging.api-calls.enabled=true
huggingface.logging.response-time.enabled=true

# ===========================================
# AI MODEL CONFIGURATION - COMPLETE SET
# ===========================================
# Core AI Configuration
mediconnect.ai.model.version=1.0.0
mediconnect.ai.model.api-key=${huggingface.api.key}

# Image Analysis Configuration
mediconnect.ai.image-analysis.api-url=${huggingface.endpoints.ocr}
mediconnect.ai.image-analysis.api-key=${huggingface.api.key}

# Speech-to-Text Configuration
mediconnect.speech-to-text.api-url=${huggingface.endpoints.speech-to-text}
mediconnect.speech-to-text.api-key=${huggingface.api.key}

# Translation Configuration
mediconnect.translation.api-url=${huggingface.endpoints.translation}
mediconnect.translation.api-key=${huggingface.api.key}

# Medical Coding Configuration
mediconnect.medical-coding.api-url=${huggingface.endpoints.medical-coding}
mediconnect.medical-coding.api-key=${huggingface.api.key}

# Health Prediction Configuration
mediconnect.health-prediction.api-url=${huggingface.endpoints.health-prediction}
mediconnect.health-prediction.api-key=${huggingface.api.key}

# Treatment Recommendation Configuration
mediconnect.treatment-recommendation.api-url=${huggingface.endpoints.treatment-recommendation}
mediconnect.treatment-recommendation.api-key=${huggingface.api.key}

# Chat Configuration
mediconnect.chat.api-url=${huggingface.endpoints.chat}
mediconnect.chat.api-key=${huggingface.api.key}

# Medication Interaction Configuration
mediconnect.medication-interaction.api-url=${huggingface.endpoints.medication-interaction}
mediconnect.medication-interaction.api-key=${huggingface.api.key}

# Additional AI Service Properties
mediconnect.ai.timeout=${huggingface.timeout.connection}
mediconnect.ai.max-retries=${huggingface.retry.attempts}
mediconnect.ai.base-url=${huggingface.api.base-url}

# ===========================================
# ADDITIONAL AI SERVICES CONFIGURATION
# ===========================================
# Chatbot Configuration (specific naming variations)
mediconnect.chatbot.api-url=${huggingface.endpoints.chat}
mediconnect.chatbot.api-key=${huggingface.api.key}
mediconnect.chatbot.model-version=1.0.0
mediconnect.chatbot.max-tokens=${huggingface.chat.max-tokens}
mediconnect.chatbot.temperature=${huggingface.chat.temperature}

# AI Diagnosis Configuration
mediconnect.ai-diagnosis.api-url=${huggingface.endpoints.medical-coding}
mediconnect.ai-diagnosis.api-key=${huggingface.api.key}

# Genomic Analysis Configuration
mediconnect.genomic-analysis.api-url=${huggingface.endpoints.health-prediction}
mediconnect.genomic-analysis.api-key=${huggingface.api.key}

# Genomic Configuration (alternative naming)
mediconnect.genomic.api-url=${huggingface.endpoints.health-prediction}
mediconnect.genomic.api-key=${huggingface.api.key}

# Health Predictor Configuration
mediconnect.ai.health-predictor.api-url=${huggingface.endpoints.health-prediction}
mediconnect.ai.health-predictor.api-key=${huggingface.api.key}

# Medication Configuration
mediconnect.ai.medication.api-url=${huggingface.endpoints.medication-interaction}
mediconnect.ai.medication.api-key=${huggingface.api.key}

# Treatment Configuration
mediconnect.ai.treatment.api-url=${huggingface.endpoints.treatment-recommendation}
mediconnect.ai.treatment.api-key=${huggingface.api.key}

# Triage Configuration
mediconnect.ai.triage.api-url=${huggingface.endpoints.medical-coding}
mediconnect.ai.triage.api-key=${huggingface.api.key}

# ===========================================
# COMPREHENSIVE AI SERVICES CONFIGURATION
# ===========================================
# Additional likely missing properties (covering all possible variations)
mediconnect.ai.diagnosis.api-url=${huggingface.endpoints.medical-coding}
mediconnect.ai.diagnosis.api-key=${huggingface.api.key}
mediconnect.ai.analysis.api-url=${huggingface.endpoints.medical-coding}
mediconnect.ai.analysis.api-key=${huggingface.api.key}
mediconnect.ai.nlp.api-url=${huggingface.endpoints.chat}
mediconnect.ai.nlp.api-key=${huggingface.api.key}
mediconnect.ai.recommendation.api-url=${huggingface.endpoints.treatment-recommendation}
mediconnect.ai.recommendation.api-key=${huggingface.api.key}
mediconnect.ai.classification.api-url=${huggingface.endpoints.medical-coding}
mediconnect.ai.classification.api-key=${huggingface.api.key}
mediconnect.ai.prediction.api-url=${huggingface.endpoints.health-prediction}
mediconnect.ai.prediction.api-key=${huggingface.api.key}

# ===========================================
# ENHANCED LOGGING CONFIGURATION (for debugging)
# ===========================================
# Enable debug logging for AI services
logging.level.com.mediconnect.service.ai=DEBUG
logging.level.com.mediconnect.controller.ai=DEBUG
logging.level.org.springframework.web.client.RestTemplate=DEBUG
logging.level.root=INFO

# ===========================================
# CORS CONFIGURATION
# ===========================================
mediconnect.cors.allowed-origins=http://localhost:3000,http://localhost:5173,http://localhost:8080
mediconnect.cors.allowed-methods=GET,POST,PUT,DELETE,OPTIONS
mediconnect.cors.allowed-headers=*
mediconnect.cors.allow-credentials=true

# ===========================================
# APPLICATION HEALTH AND MONITORING
# ===========================================
# Actuator endpoints for health monitoring
management.endpoints.web.exposure.include=health,info,metrics
management.endpoint.health.show-details=always
management.health.defaults.enabled=true

# ===========================================
# ERROR HANDLING CONFIGURATION
# ===========================================
server.error.include-stacktrace=never
server.error.include-message=always
spring.mvc.throw-exception-if-no-handler-found=true
spring.web.resources.add-mappings=false

# ===========================================
# PERFORMANCE OPTIMIZATION
# ===========================================
# Connection pool settings
spring.datasource.hikari.maximum-pool-size=20
spring.datasource.hikari.minimum-idle=5
spring.datasource.hikari.idle-timeout=300000
spring.datasource.hikari.max-lifetime=600000
spring.datasource.hikari.connection-timeout=30000

# HTTP connection settings
server.tomcat.max-threads=200
server.tomcat.min-spare-threads=10
server.tomcat.connection-timeout=60000

# ===========================================
# ADDITIONAL FEATURE FLAGS
# ===========================================
# Feature toggles for different AI capabilities
mediconnect.features.ai-chat.enabled=true
mediconnect.features.image-analysis.enabled=true
mediconnect.features.speech-to-text.enabled=true
mediconnect.features.health-prediction.enabled=true
mediconnect.features.medication-interaction.enabled=true
mediconnect.features.treatment-recommendation.enabled=true

# ============ LOGGING SETTINGS ============
logging.level.com.mediconnect.service.EmailService=DEBUG
logging.level.com.mediconnect.service.PasswordResetService=DEBUG
logging.level.com.mediconnect.controller.PasswordResetController=DEBUG


# ============ RATE LIMITING SETTINGS ============
# These are configured in the service, but you can externalize them
password-reset.max-attempts-per-hour=5
password-reset.max-attempts-per-day=10
password-reset.otp-expiry-minutes=15
password-reset.max-otp-attempts=3